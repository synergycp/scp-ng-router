"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,r){"use strict";function n(e,t){return B(new(B(function(){},{prototype:e})),t)}function a(e){return U(arguments,function(t){t!==e&&U(t,function(t,r){e.hasOwnProperty(r)||(e[r]=t)})}),e}function o(e,t){var r=[];for(var n in e.path){if(e.path[n]!==t.path[n])break;r.push(e.path[n])}return r}function i(e){if(Object.keys)return Object.keys(e);var t=[];return U(e,function(e,r){t.push(r)}),t}function u(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var r=e.length>>>0,n=Number(arguments[2])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=r);n<r;n++)if(n in e&&e[n]===t)return n;return-1}function s(e,t,r,n){var a,s=o(r,n),c={},l=[];for(var f in s)if(s[f]&&s[f].params&&(a=i(s[f].params),a.length))for(var d in a)u(l,a[d])>=0||(l.push(a[d]),c[a[d]]=e[a[d]]);return B({},c,t)}function c(e,t,r){if(!r){r=[];for(var n in e)r.push(n)}for(var a=0;a<r.length;a++){var o=r[a];if(e[o]!=t[o])return!1}return!0}function l(e,t){var r={};return U(e,function(e){r[e]=t[e]}),r}function f(e){var t={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return U(r,function(r){r in e&&(t[r]=e[r])}),t}function d(e){var t={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var n in e)u(r,n)==-1&&(t[n]=e[n]);return t}function p(e,t){var r=V(e),n=r?[]:{};return U(e,function(e,a){t(e,a)&&(n[r?n.length:a]=e)}),n}function h(e,t){var r=V(e)?[]:{};return U(e,function(e,n){r[n]=t(e,n)}),r}function v(e){return e.then(r,function(){})&&e}function m(e,t){var n=1,o=2,s={},c=[],l=s,f=B(e.when(s),{$$promises:s,$$values:s});this.study=function(s){function p(e,r){if(g[r]!==o){if($.push(r),g[r]===n)throw $.splice(0,u($,r)),new Error("Cyclic dependency: "+$.join(" -> "));if(g[r]=n,N(e))m.push(r,[function(){return t.get(e)}],c);else{var a=t.annotate(e);U(a,function(e){e!==r&&s.hasOwnProperty(e)&&p(s[e],e)}),m.push(r,e,a)}$.pop(),g[r]=o}}function h(e){return T(e)&&e.then&&e.$$promises}if(!T(s))throw new Error("'invocables' must be an object");var v=i(s||{}),m=[],$=[],g={};return U(s,p),s=$=g=null,function(n,o,i){function u(){--w||(x||a(y,o.$$values),$.$$values=y,$.$$promises=$.$$promises||!0,delete $.$$inheritedValues,p.resolve(y))}function s(e){$.$$failure=e,p.reject(e)}function c(r,a,o){function c(e){f.reject(e),s(e)}function l(){if(!R($.$$failure))try{f.resolve(t.invoke(a,i,y)),f.promise.then(function(e){y[r]=e,u()},c)}catch(e){c(e)}}var f=e.defer(),d=0;U(o,function(e){g.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(d++,g[e].then(function(t){y[e]=t,--d||l()},c))}),d||l(),g[r]=f.promise}if(h(n)&&i===r&&(i=o,o=n,n=null),n){if(!T(n))throw new Error("'locals' must be an object")}else n=l;if(o){if(!h(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=f;var p=e.defer(),$=p.promise,g=$.$$promises={},y=B({},n),w=1+m.length/3,x=!1;if(R(o.$$failure))return s(o.$$failure),$;o.$$inheritedValues&&a(y,d(o.$$inheritedValues,v)),B(g,o.$$promises),o.$$values?(x=a(y,d(o.$$values,v)),$.$$inheritedValues=d(o.$$values,v),u()):(o.$$inheritedValues&&($.$$inheritedValues=d(o.$$inheritedValues,v)),o.then(u,s));for(var b=0,S=m.length;b<S;b+=3)n.hasOwnProperty(m[b])?u():c(m[b],m[b+1],m[b+2]);return $}},this.resolve=function(e,t,r,n){return this.study(e)(t,r,n)}}function $(e,t,r){this.fromConfig=function(e,t,r){return R(e.template)?this.fromString(e.template,t):R(e.templateUrl)?this.fromUrl(e.templateUrl,t):R(e.templateProvider)?this.fromProvider(e.templateProvider,t,r):null},this.fromString=function(e,t){return z(e)?e(t):e},this.fromUrl=function(r,n){return z(r)&&(r=r(n)),null==r?null:e.get(r,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,n){return r.invoke(e,null,n||{params:t})}}function g(e,t,a){function o(t,r,n,a){if(m.push(t),h[t])return h[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(v[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return v[t]=new Y.Param(t,r,n,a),v[t]}function i(e,t,r,n){var a=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(r){case!1:a=["(",")"+(n?"?":"")];break;case!0:o=o.replace(/\/$/,""),a=["(?:/(",")|/)?"];break;default:a=["("+r+"|",")?"]}return o+a[0]+t+a[1]}function u(a,o){var i,u,s,c,l;return i=a[2]||a[3],l=t.params[i],s=e.substring(d,a.index),u=o?a[4]:a[4]||("*"==a[1]?".*":null),u&&(c=Y.type(u)||n(Y.type("string"),{pattern:new RegExp(u,t.caseInsensitive?"i":r)})),{id:i,regexp:u,segment:s,type:c,cfg:l}}t=B({params:{}},T(t)?t:{});var s,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",d=0,p=this.segments=[],h=a?a.params:{},v=this.params=a?a.params.$$new():new Y.ParamSet,m=[];this.source=e;for(var $,g,y;(s=c.exec(e))&&($=u(s,!1),!($.segment.indexOf("?")>=0));)g=o($.id,$.type,$.cfg,"path"),f+=i($.segment,g.type.pattern.source,g.squash,g.isOptional),p.push($.segment),d=c.lastIndex;y=e.substring(d);var w=y.indexOf("?");if(w>=0){var x=this.sourceSearch=y.substring(w);if(y=y.substring(0,w),this.sourcePath=e.substring(0,d+w),x.length>0)for(d=0;s=l.exec(x);)$=u(s,!0),g=o($.id,$.type,$.cfg,"search"),d=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";f+=i(y)+(t.strict===!1?"/?":"")+"$",p.push(y),this.regexp=new RegExp(f,t.caseInsensitive?"i":r),this.prefix=p[0],this.$$paramNames=m}function y(e){B(this,e)}function w(){function e(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}function a(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}function o(){return{strict:v,caseInsensitive:d}}function s(e){return z(e)||V(e)&&z(e[e.length-1])}function c(){for(;b.length;){var e=b.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend($[e.name],f.invoke(e.def))}}function l(e){B(this,e||{})}Y=this;var f,d=!1,v=!0,m=!1,$={},x=!0,b=[],S={string:{encode:e,decode:a,is:function(e){return null==e||!R(e)||"string"==typeof e},pattern:/[^\/]*/},int:{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return R(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):r},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):r},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};w.$$getDefaultValue=function(e){if(!s(e.value))return e.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(e.value)},this.caseInsensitive=function(e){return R(e)&&(d=e),d},this.strictMode=function(e){return R(e)&&(v=e),v},this.defaultSquashPolicy=function(e){if(!R(e))return m;if(e!==!0&&e!==!1&&!N(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new g(e,B(o(),t))},this.isMatcher=function(e){if(!T(e))return!1;var t=!0;return U(g.prototype,function(r,n){z(r)&&(t=t&&R(e[n])&&z(e[n]))}),t},this.type=function(e,t,r){if(!R(t))return $[e];if($.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return $[e]=new y(B({name:e},t)),r&&(b.push({name:e,def:r}),x||c()),this},U(S,function(e,t){$[t]=new y(B({name:t},e))}),$=n($,{}),this.$get=["$injector",function(e){return f=e,x=!1,c(),U(S,function(e,t){$[t]||($[t]=new y(e))}),this}],this.Param=function(e,n,a,o){function c(e){var t=T(e)?i(e):[],r=u(t,"value")===-1&&u(t,"type")===-1&&u(t,"squash")===-1&&u(t,"array")===-1;return r&&(e={value:e}),e.$$fn=s(e.value)?e.value:function(){return e.value},e}function l(r,n,a){if(r.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:r.type?t.isString(r.type)?$[r.type]:r.type instanceof y?r.type:new y(r.type):"config"===a?$.any:$.string}function d(){var t={array:"search"===o&&"auto"},r=e.match(/\[\]$/)?{array:!0}:{};return B(t,r,a).array}function v(e,t){var r=e.squash;if(!t||r===!1)return!1;if(!R(r)||null==r)return m;if(r===!0||N(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}function g(e,t,n,a){var o,i,s=[{from:"",to:n||t?r:""},{from:null,to:n||t?r:""}];return o=V(e.replace)?e.replace:[],N(a)&&o.push({from:a,to:r}),i=h(o,function(e){return e.from}),p(s,function(e){return u(i,e.from)===-1}).concat(o)}function w(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");var e=f.invoke(a.$$fn);if(null!==e&&e!==r&&!S.type.is(e))throw new Error("Default value ("+e+") for parameter '"+S.id+"' is not an instance of Type ("+S.type.name+")");return e}function x(e){function t(e){return function(t){return t.from===e}}function r(e){var r=h(p(S.replace,t(e)),function(e){return e.to});return r.length?r[0]:e}return e=r(e),R(e)?S.type.$normalize(e):w()}function b(){return"{Param:"+e+" "+n+" squash: '"+P+"' optional: "+j+"}"}var S=this;a=c(a),n=l(a,n,o);var E=d();n=E?n.$asArray(E,"search"===o):n,"string"!==n.name||E||"path"!==o||a.value!==r||(a.value="");var j=a.value!==r,P=v(a,j),L=g(a,E,j,P);B(this,{id:e,type:n,location:o,array:E,squash:P,replace:L,isOptional:j,value:x,dynamic:r,config:a,toString:b})},l.prototype={$$new:function(){return n(this,B(new l,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],r=this,n=i(l.prototype);r;)t.push(r),r=r.$$parent;return t.reverse(),U(t,function(t){U(i(t),function(t){u(e,t)===-1&&u(n,t)===-1&&e.push(t)})}),e},$$values:function(e){var t={},r=this;return U(r.$$keys(),function(n){t[n]=r[n].value(e&&e[n])}),t},$$equals:function(e,t){var r=!0,n=this;return U(n.$$keys(),function(a){var o=e&&e[a],i=t&&t[a];n[a].type.equals(o,i)||(r=!1)}),r},$$validates:function(e){var n,a,o,i,u,s=this.$$keys();for(n=0;n<s.length&&(a=this[s[n]],o=e[s[n]],o!==r&&null!==o||!a.isOptional);n++){if(i=a.type.$normalize(o),!a.type.is(i))return!1;if(u=a.type.encode(i),t.isString(u)&&!a.type.pattern.exec(u))return!1}return!0},$$parent:r},this.ParamSet=l}function x(e,n){function a(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,r){return t["$"===r?0:Number(r)]})}function i(e,t,r){if(!r)return!1;var n=e.invoke(t,t,{$match:r});return!R(n)||n}function u(n,a,o,i,u){function d(e,t,r){return"/"===m?e:t?m.slice(0,-1)+e:r?m.slice(1)+e:e}function p(e){function t(e){var t=e(o,n);return!!t&&(N(t)&&n.replace().url(t),!0)}if(!e||!e.defaultPrevented){v&&n.url()===v;v=r;var a,i=c.length;for(a=0;a<i;a++)if(t(c[a]))return;l&&t(l)}}function h(){return s=s||a.$on("$locationChangeSuccess",p)}var v,m=i.baseHref(),$=n.url();return f||h(),{sync:function(){p()},listen:function(){return h()},update:function(e){return e?void($=n.url()):void(n.url()!==$&&(n.url($),n.replace()))},push:function(e,t,a){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),n.url(o),v=a&&a.$$avoidResync?n.url():r,a&&a.replace&&n.replace()},href:function(r,a,o){if(!r.validates(a))return null;var i=e.html5Mode();t.isObject(i)&&(i=i.enabled),i=i&&u.history;var s=r.format(a);if(o=o||{},i||null===s||(s="#"+e.hashPrefix()+s),null!==s&&a&&a["#"]&&(s+="#"+a["#"]),s=d(s,i,o.absolute),!o.absolute||!s)return s;var c=!i&&s?"/":"",l=n.port();return l=80===l||443===l?"":":"+l,[n.protocol(),"://",n.host(),l,c,s].join("")}}}var s,c=[],l=null,f=!1;this.rule=function(e){if(!z(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(N(e)){var t=e;e=function(){return t}}else if(!z(e))throw new Error("'rule' must be a function");return l=e,this},this.when=function(e,t){var r,u=N(t);if(N(e)&&(e=n.compile(e)),!u&&!z(t)&&!V(t))throw new Error("invalid 'handler' in when()");var s={matcher:function(e,t){return u&&(r=n.compile(t),t=["$match",function(e){return r.format(e)}]),B(function(r,n){return i(r,t,e.exec(n.path(),n.search()))},{prefix:N(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return u&&(r=t,t=["$match",function(e){return o(r,e)}]),B(function(r,n){return i(r,t,e.exec(n.path()))},{prefix:a(e)})}},c={matcher:n.isMatcher(e),regex:e instanceof RegExp};for(var l in c)if(c[l])return this.rule(s[l](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===r&&(e=!0),f=e},this.$get=u,u.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function b(e,a){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){if(!e)return r;var n=N(e),a=n?e:e.name,i=o(a);if(i){if(!t)throw new Error("No reference point given for path '"+a+"'");t=d(t);for(var u=a.split("."),s=0,c=u.length,l=t;s<c;s++)if(""!==u[s]||0!==s){if("^"!==u[s])break;if(!l.parent)throw new Error("Path '"+a+"' not valid for state '"+t.name+"'");l=l.parent}else l=t;u=u.slice(s).join("."),a=l.name+(l.name&&u?".":"")+u}var f=P[a];return!f||!n&&(n||f!==e&&f.self!==e)?r:f}function p(e,t){L[e]||(L[e]=[]),L[e].push(t)}function m(e){for(var t=L[e]||[];t.length;)$(t.shift())}function $(t){t=n(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var r=t.name;if(!N(r)||r.indexOf("@")>=0)throw new Error("State must have a valid name");if(P.hasOwnProperty(r))throw new Error("State '"+r+"' is already defined");var a=r.indexOf(".")!==-1?r.substring(0,r.lastIndexOf(".")):N(t.parent)?t.parent:T(t.parent)&&N(t.parent.name)?t.parent.name:"";if(a&&!P[a])return p(a,t.self);for(var o in k)z(k[o])&&(t[o]=k[o](t,k.$delegates[o]));return P[r]=t,!t[O]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,r){j.$current.navigable==t&&c(e,r)||j.transitionTo(t,e,{inherit:!0,location:!1})}]),m(r),t}function g(e){return e.indexOf("*")>-1}function y(e){for(var t=e.split("."),r=j.$current.name.split("."),n=0,a=t.length;n<a;n++)"*"===t[n]&&(r[n]="*");return"**"===t[0]&&(r=r.slice(u(r,t[1])),r.unshift("**")),"**"===t[t.length-1]&&(r.splice(u(r,t[t.length-2])+1,Number.MAX_VALUE),r.push("**")),t.length==r.length&&r.join("")===t.join("")}function w(e,t){return N(e)&&!R(t)?k[e]:z(t)&&N(e)?(k[e]&&!k.$delegates[e]&&(k.$delegates[e]=k[e]),k[e]=t,this):this}function x(e,t){return T(e)?t=e:t.name=e,$(t),this}function b(e,a,o,u,f,p,m,$,w){function x(t,r,n,o){var i=e.$broadcast("$stateNotFound",t,r,n);if(i.defaultPrevented)return m.update(),C;if(!i.retry)return null;if(o.$retry)return m.update(),q;var u=j.transition=a.when(i.retry);return u.then(function(){return u!==j.transition?(e.$broadcast("$stateChangeCancel",t.to,t.toParams,r,n),k):(t.options.$retry=!0,j.transitionTo(t.to,t.toParams,t.options))},function(){return C}),m.update(),u}function b(e,r,n,i,s,c){function d(){var r=[];return U(e.views,function(n,a){var i=n.resolve&&n.resolve!==e.resolve?n.resolve:{};i.$template=[function(){return o.load(a,{view:n,locals:s.globals,params:p,notify:c.notify})||""}],r.push(f.resolve(i,s.globals,s.resolve,e).then(function(r){if(z(n.controllerProvider)||V(n.controllerProvider)){var o=t.extend({},i,s.globals);r.$$controller=u.invoke(n.controllerProvider,null,o)}else r.$$controller=n.controller;r.$$state=e,r.$$controllerAs=n.controllerAs,r.$$resolveAs=n.resolveAs,s[a]=r}))}),a.all(r).then(function(){return s.globals})}var p=n?r:l(e.params.$$keys(),r),h={$stateParams:p};s.resolve=f.resolve(e.resolve,h,s.resolve,e);var v=[s.resolve.then(function(e){s.globals=e})];return i&&v.push(i),a.all(v).then(d).then(function(e){return s})}var L=new Error("transition superseded"),k=v(a.reject(L)),A=v(a.reject(new Error("transition prevented"))),C=v(a.reject(new Error("transition aborted"))),q=v(a.reject(new Error("transition failed")));return E.locals={resolve:null,globals:{$stateParams:{}}},j={params:{},current:E.self,$current:E,transition:null},j.reload=function(e){return j.transitionTo(j.current,p,{reload:e||!0,inherit:!1,notify:!0})},j.go=function(e,t,r){return j.transitionTo(e,t,B({inherit:!0,relative:j.$current},r))},j.transitionTo=function(t,r,o){r=r||{},o=B({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var i,c=j.$current,f=j.params,h=c.path,v=d(t,o.relative),$=r["#"];if(!R(v)){var g={to:t,toParams:r,options:o},y=x(g,c.self,f,o);if(y)return y;if(t=g.to,r=g.toParams,o=g.options,v=d(t,o.relative),!R(v)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(v[O])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(r=s(p,r||{},j.$current,v)),!v.params.$$validates(r))return q;r=v.params.$$values(r),t=v;var w=t.path,P=0,C=w[P],_=E.locals,F=[];if(o.reload){if(N(o.reload)||T(o.reload)){if(T(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var I=o.reload===!0?h[0]:d(o.reload);if(o.reload&&!I)throw new Error("No such reload state '"+(N(o.reload)?o.reload:o.reload.name)+"'");for(;C&&C===h[P]&&C!==I;)_=F[P]=C.locals,P++,C=w[P]}}else for(;C&&C===h[P]&&C.ownParams.$$equals(r,f);)_=F[P]=C.locals,P++,C=w[P];if(S(t,r,c,f,_,o))return $&&(r["#"]=$),j.params=r,J(j.params,p),J(l(t.params.$$keys(),p),t.locals.globals.$stateParams),o.location&&t.navigable&&t.navigable.url&&(m.push(t.navigable.url,r,{$$avoidResync:!0,replace:"replace"===o.location}),m.update(!0)),j.transition=null,a.when(j.current);if(r=l(t.params.$$keys(),r||{}),$&&(r["#"]=$),o.notify&&e.$broadcast("$stateChangeStart",t.self,r,c.self,f,o).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,r,c.self,f),null==j.transition&&m.update(),A;for(var D=a.when(_),M=P;M<w.length;M++,C=w[M])_=F[M]=n(_),D=b(C,r,C===t,D,_,o);var z=j.transition=D.then(function(){var n,a,i;if(j.transition!==z)return e.$broadcast("$stateChangeCancel",t.self,r,c.self,f),k;for(n=h.length-1;n>=P;n--)i=h[n],i.self.onExit&&u.invoke(i.self.onExit,i.self,i.locals.globals),i.locals=null;for(n=P;n<w.length;n++)a=w[n],a.locals=F[n],a.self.onEnter&&u.invoke(a.self.onEnter,a.self,a.locals.globals);return j.transition!==z?(e.$broadcast("$stateChangeCancel",t.self,r,c.self,f),k):(j.$current=t,j.current=t.self,j.params=r,J(j.params,p),j.transition=null,o.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,r,c.self,f),m.update(!0),j.current)}).then(null,function(n){return n===L?k:j.transition!==z?(e.$broadcast("$stateChangeCancel",t.self,r,c.self,f),k):(j.transition=null,i=e.$broadcast("$stateChangeError",t.self,r,c.self,f,n),i.defaultPrevented||m.update(),a.reject(n))});return z},j.is=function(e,t,n){n=B({relative:j.$current},n||{});var a=d(e,n.relative);return R(a)?j.$current===a&&(!t||c(a.params.$$values(t),p)):r},j.includes=function(e,t,n){if(n=B({relative:j.$current},n||{}),N(e)&&g(e)){if(!y(e))return!1;e=j.$current.name}var a=d(e,n.relative);if(!R(a))return r;if(!R(j.$current.includes[a.name]))return!1;if(!t)return!0;for(var o=i(t),u=0;u<o.length;u++){var s=o[u],c=a.params[s];if(c&&!c.type.equals(p[s],t[s]))return!1}return!0},j.href=function(e,t,n){n=B({lossy:!0,inherit:!0,absolute:!1,relative:j.$current},n||{});var a=d(e,n.relative);if(!R(a))return null;n.inherit&&(t=s(p,t||{},j.$current,a));var o=a&&n.lossy?a.navigable:a;return o&&o.url!==r&&null!==o.url?m.href(o.url,l(a.params.$$keys().concat("#"),t||{}),{absolute:n.absolute}):null},j.get=function(e,t){if(0===arguments.length)return h(i(P),function(e){return P[e].self});var r=d(e,t||j.$current);return r&&r.self?r.self:null},j}function S(e,t,r,n,a,o){function i(e,t,r){function n(t){return"search"!=e.params[t].location}var a=e.params.$$keys().filter(n),o=f.apply({},[e.params].concat(a)),i=new Y.ParamSet(o);return i.$$equals(t,r)}if(!o.reload&&e===r&&(a===r.locals||e.self.reloadOnSearch===!1&&i(r,n,t)))return!0}var E,j,P={},L={},O="abstract",k={parent:function(e){if(R(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):E},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=n(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,r={params:e.params||{}};if(N(t))return"^"==t.charAt(0)?a.compile(t.substring(1),r):(e.parent.navigable||E).url.concat(t,r);if(!t||a.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new Y.ParamSet;return U(e.params||{},function(e,r){t[r]||(t[r]=new Y.Param(r,null,e,"config"))}),t},params:function(e){var t=f(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?B(e.parent.params.$$new(),t):new Y.ParamSet},views:function(e){var t={};return U(R(e.views)?e.views:{"":e},function(r,n){n.indexOf("@")<0&&(n+="@"+e.parent.name),r.resolveAs=r.resolveAs||e.resolveAs||"$resolve",t[n]=r}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?B({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};E=$({name:"",url:"^",views:null,abstract:!0}),E.navigable=null,this.decorator=w,this.state=x,this.$get=b,b.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function S(){function e(e,t){return{load:function(e,r){var n,a={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=B(a,r),r.view&&(n=t.fromConfig(r.view,r.params,r.locals)),n}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function E(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,r){return e?t:function(e){return r(function(){e[0].scrollIntoView()},0,!1)}}]}function j(e,r,n,a,o){function i(){return r.has?function(e){return r.has(e)?r.get(e):null}:function(e){try{return r.get(e)}catch(e){return null}}}function u(e,r){var n=function(){return{enter:function(e,t,r){t.after(e),r()},leave:function(e,t){e.remove(),t()}}};if(l)return{enter:function(e,r,n){t.version.minor>2?l.enter(e,null,r).then(n):l.enter(e,null,r,n)},leave:function(e,r){t.version.minor>2?l.leave(e).then(r):l.leave(e,r)}};if(c){var a=c&&c(r,e);return{enter:function(e,t,r){a.enter(e,null,t),r()},leave:function(e,t){a.leave(e),t()}}}return n()}var s=i(),c=s("$animator"),l=s("$animate"),f={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(r,i,s){return function(r,i,c){function l(){if(d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),p){var e=p.data("$uiViewAnim");g.leave(p,function(){e.$$animLeave.resolve(),d=null}),d=p,p=null}}function f(u){var f,d=L(r,c,i,a),y=d&&e.$current&&e.$current.locals[d];if(u||y!==v){f=r.$new(),v=e.$current.locals[d],f.$emit("$viewContentLoading",d);var w=s(f,function(e){var a=o.defer(),u=o.defer(),s={$animEnter:a.promise,$animLeave:u.promise,$$animLeave:u};e.data("$uiViewAnim",s),g.enter(e,i,function(){a.resolve(),h&&h.$emit("$viewContentAnimationEnded"),(t.isDefined($)&&!$||r.$eval($))&&n(e)}),l()});p=w,h=f,h.$emit("$viewContentLoaded",d),h.$eval(m)}}var d,p,h,v,m=c.onload||"",$=c.autoscroll,g=u(c,r);i.inheritedData("$uiView");r.$on("$stateChangeSuccess",function(){f(!1)}),f(!0)}}};return f}function P(e,r,n,a){return{restrict:"ECA",priority:-400,compile:function(o){var i=o.html();return function(o,u,s){var c=n.$current,l=L(o,s,u,a),f=c&&c.locals[l];if(f){u.data("$uiView",{name:l,state:f.$$state}),u.html(f.$template?f.$template:i);var d=t.extend({},f);o[f.$$resolveAs]=d;var p=e(u.contents());if(f.$$controller){f.$scope=o,f.$element=u;var h=r(f.$$controller,f);f.$$controllerAs&&(o[f.$$controllerAs]=h,o[f.$$controllerAs][f.$$resolveAs]=d),z(h.$onInit)&&h.$onInit(),u.data("$ngControllerController",h),u.children().data("$ngControllerController",h)}p(o)}}}}}function L(e,t,r,n){var a=n(t.uiView||t.name||"")(e),o=r.inheritedData("$uiView");return a.indexOf("@")>=0?a:a+"@"+(o?o.state.name:"")}function O(e,t){var r,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e=t+"("+n[1]+")"),r=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!r||4!==r.length)throw new Error("Invalid state ref '"+e+"'");return{state:r[1],paramExpr:r[3]||null}}function k(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function A(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),r="FORM"===e[0].nodeName;return{attr:r?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!r}}function C(e,t,r,n,a){return function(o){var i=o.which||o.button,u=a();if(!(i>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var s=r(function(){t.go(u.state,u.params,u.options)});o.preventDefault();var c=n.isAnchor&&!u.href?1:0;o.preventDefault=function(){c--<=0&&r.cancel(s)}}}}function q(e,t){return{relative:k(e)||t.$current,inherit:!0}}function _(e,r){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,a,o,i){var u,s=O(o.uiSref,e.current.name),c={state:s.state,href:null,params:null},l=A(a),f=i[1]||i[0],d=null;c.options=B(q(a,e),o.uiSrefOpts?n.$eval(o.uiSrefOpts):{});var p=function(r){r&&(c.params=t.copy(r)),c.href=e.href(s.state,c.params,c.options),d&&d(),f&&(d=f.$$addStateInfo(s.state,c.params)),null!==c.href&&o.$set(l.attr,c.href)};s.paramExpr&&(n.$watch(s.paramExpr,function(e){e!==c.params&&p(e)},!0),c.params=t.copy(n.$eval(s.paramExpr))),p(),l.clickable&&(u=C(a,e,r,l,function(){return c}),a[a.on?"on":"bind"]("click",u),n.$on("$destroy",function(){a[a.off?"off":"unbind"]("click",u)}))}}}function F(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,n,a,o){function i(t){d.state=t[0],d.params=t[1],d.options=t[2],d.href=e.href(d.state,d.params,d.options),p&&p(),c&&(p=c.$$addStateInfo(d.state,d.params)),d.href&&a.$set(s.attr,d.href)}var u,s=A(n),c=o[1]||o[0],l=[a.uiState,a.uiStateParams||null,a.uiStateOpts||null],f="["+l.map(function(e){return e||"null"}).join(", ")+"]",d={state:null,params:null,options:null,href:null},p=null;r.$watch(f,i,!0),i(r.$eval(f)),s.clickable&&(u=C(n,e,t,s,function(){return d}),n[n.on?"on":"bind"]("click",u),r.$on("$destroy",function(){n[n.off?"off":"unbind"]("click",u)}))}}}function I(e,t,r){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,n,a,o){function i(t,r,a){var o=e.get(t,k(n)),i=u(t,r),s={state:o||{name:t},params:r,hash:i};return v.push(s),m[i]=a,function(){var e=v.indexOf(s);e!==-1&&v.splice(e,1)}}function u(e,r){if(!N(e))throw new Error("state should be a string");return T(r)?e+K(r):(r=t.$eval(r),T(r)?e+K(r):e)}function s(){for(var e=0;e<v.length;e++)f(v[e].state,v[e].params)?c(n,m[v[e].hash]):l(n,m[v[e].hash]),d(v[e].state,v[e].params)?c(n,p):l(n,p)}function c(e,t){o(function(){e.addClass(t)})}function l(e,t){e.removeClass(t)}function f(t,r){return e.includes(t.name,r)}function d(t,r){return e.is(t.name,r)}var p,h,v=[],m={};p=r(a.uiSrefActiveEq||"",!1)(t);try{h=t.$eval(a.uiSrefActive)}catch(e){}h=h||r(a.uiSrefActive||"",!1)(t),T(h)&&U(h,function(r,n){if(N(r)){var a=O(r,e.current.name);i(a.state,t.$eval(a.paramExpr),n)}}),this.$$addStateInfo=function(e,t){if(!(T(h)&&v.length>0)){var r=i(e,t,h);return s(),r}},t.$on("$stateChangeSuccess",s),s()}]}}function D(e){var t=function(t,r){return e.is(t,r)};return t.$stateful=!0,t}function M(e){var t=function(t,r,n){return e.includes(t,r,n)};return t.$stateful=!0,t}var R=t.isDefined,z=t.isFunction,N=t.isString,T=t.isObject,V=t.isArray,U=t.forEach,B=t.extend,J=t.copy,K=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",m),$.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",$);var Y;g.prototype.concat=function(e,t){var r={caseInsensitive:Y.caseInsensitive(),strict:Y.strictMode(),squash:Y.defaultSquashPolicy()};return new g(this.sourcePath+e+this.sourceSearch,B(r,t),this)},g.prototype.toString=function(){return this.source},g.prototype.exec=function(e,t){function r(e){function t(e){return e.split("").reverse().join("")}function r(e){return e.replace(/\\-/g,"-")}var n=t(e).split(/-(?!\\)/),a=h(n,t);return h(a,r).reverse()}var n=this.regexp.exec(e);if(!n)return null;t=t||{};var a,o,i,u=this.parameters(),s=u.length,c=this.segments.length-1,l={};if(c!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var f,d;for(a=0;a<c;a++){for(i=u[a],f=this.params[i],d=n[a+1],o=0;o<f.replace.length;o++)f.replace[o].from===d&&(d=f.replace[o].to);d&&f.array===!0&&(d=r(d)),R(d)&&(d=f.type.decode(d)),l[i]=f.value(d)}for(;a<s;a++){for(i=u[a],l[i]=this.params[i].value(t[i]),f=this.params[i],d=t[i],o=0;o<f.replace.length;o++)f.replace[o].from===d&&(d=f.replace[o].to);R(d)&&(d=f.type.decode(d)),l[i]=f.value(d)}return l},g.prototype.parameters=function(e){return R(e)?this.params[e]||null:this.$$paramNames},g.prototype.validates=function(e){return this.params.$$validates(e)},g.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var r=this.segments,n=this.parameters(),a=this.params;if(!this.validates(e))return null;var o,i=!1,u=r.length-1,s=n.length,c=r[0];for(o=0;o<s;o++){var l=o<u,f=n[o],d=a[f],p=d.value(e[f]),v=d.isOptional&&d.type.equals(d.value(),p),m=!!v&&d.squash,$=d.type.encode(p);if(l){var g=r[o+1],y=o+1===u;if(m===!1)null!=$&&(c+=V($)?h($,t).join("-"):encodeURIComponent($)),c+=g;else if(m===!0){var w=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=g.match(w)[1]}else N(m)&&(c+=m+g);y&&d.squash===!0&&"/"===c.slice(-1)&&(c=c.slice(0,-1))}else{if(null==$||v&&m!==!1)continue;if(V($)||($=[$]),0===$.length)continue;$=h($,encodeURIComponent).join("&"+f+"="),c+=(i?"&":"?")+(f+"="+$),i=!0}}return c},y.prototype.is=function(e,t){return!0},y.prototype.encode=function(e,t){return e},y.prototype.decode=function(e,t){return e},y.prototype.equals=function(e,t){return e==t},y.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},y.prototype.$asArray=function(e,t){function n(e,t){function n(e,t){return function(){return e[t].apply(e,arguments)}}function a(e){return V(e)?e:R(e)?[e]:[]}function o(e){switch(e.length){case 0:return r;case 1:return"auto"===t?e[0]:e;default:return e}}function i(e){return!e}function u(e,t){return function(r){if(V(r)&&0===r.length)return r;r=a(r);var n=h(r,e);return t===!0?0===p(n,i).length:o(n)}}function s(e){return function(t,r){var n=a(t),o=a(r);if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++)if(!e(n[i],o[i]))return!1;return!0}}this.encode=u(n(e,"encode")),this.decode=u(n(e,"decode")),this.is=u(n(e,"is"),!0),this.equals=s(n(e,"equals")),this.pattern=e.pattern,this.$normalize=u(n(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new n(this,e);
},t.module("ui.router.util").provider("$urlMatcherFactory",w),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),x.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",x),b.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",b).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),S.$inject=[],t.module("ui.router.state").provider("$view",S),t.module("ui.router.state").provider("$uiViewScroll",E),j.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],P.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",j),t.module("ui.router.state").directive("uiView",P),_.$inject=["$state","$timeout"],F.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",_).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",F),D.$inject=["$state"],M.$inject=["$state"],t.module("ui.router.state").filter("isState",D).filter("includedByState",M)}(window,window.angular),!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["angular"],function(e){t(e)}):t("object"==typeof exports?require("angular"):e.angular)}(this,function(e,t){function r(e,t){var r=[];for(var n in e.path){if(e.path[n]!==t.path[n])break;r.push(e.path[n])}return r}function n(t){if(Object.keys)return Object.keys(t);var r=[];return e.forEach(t,function(e,t){r.push(t)}),r}function a(e,t){var r=[];for(var n in e)t&&-1!==t.indexOf(n)||r.push(n);return r}function o(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var r=e.length>>>0,n=Number(arguments[2])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=r);r>n;n++)if(n in e&&e[n]===t)return n;return-1}function i(e,t,a,i){var u,s=r(a,i),c={},l=[];for(var f in s)if(s[f].params&&(u=$(s[f].params)?s[f].params:n(s[f].params),u.length))for(var d in u)o(l,u[d])>=0||(l.push(u[d]),c[u[d]]=e[u[d]]);return m({},c,t)}function u(e,t){return m(new(m(function(){},{prototype:e})),t)}function s(e){h.push(e)}function c(){b=t}function l(t,r){var n=r,a=n.inheritParams,o=(n.objectKeys,n.protoKeys),i=n.forEach,u=n.map,s={},c={},l=!1;this.registerStickyState=function(e){c[e.name]=e},this.enableDebug=this.debugMode=function(t){return e.isDefined(t)&&(l=t),l},this.$get=["$rootScope","$state","$stateParams","$injector","$log",function(t,r,n,c,f){function d(){var t={};return e.forEach(s,function(e,r){for(var n=h(e),a=0;a<n.length;a++){var o=n[a].parent;t[o.name]=t[o.name]||[],t[o.name].push(e)}t[""]&&(t.__inactives=t[""])}),t}function p(){var e={};return i(s,function(t){i(t.path,function(r){r!==t&&(e[r.name]=e[r.name]||[],e[r.name].push(t))})}),e}function h(e){var t=[];if(!e)return t;do e.sticky&&t.push(e),e=e.parent;while(e);return t.reverse(),t}function v(e,t,r,n){if(n)return"reload";var a=s[e.self.name];if(!a)return"enter";if(e.self===r)return"reload";var o=$(e.ownParams,t,a.locals.globals.$stateParams);return o?"reactivate":"reload"}function m(e,t){var r=s[e.name];if(!r)return null;if(!t)return r;var n=$(e.ownParams,t,r.locals.globals.$stateParams);return n?r:null}function $(e,t,r){return"function"==typeof e.$$equals?e.$$equals(t,r):g(t,r,e)}function g(t,r,n){if(!e.isArray(n)&&e.isObject(n)&&(n=o(n,["$$keys","$$values","$$equals","$$validates","$$new","$$parent"])),!n){n=[];for(var a in t)n.push(a)}for(var i=0;i<n.length;i++){var u=n[i];if(t[u]!=r[u])return!1}return!0}function y(e){var t=e.fromState.path,o=e.toState.path,i=e.toParams,u=0,s=o[u];for(e.options&&e.options.inherit&&(i=e.toParams=a(n,i||{},r.$current,e.toState));s&&s===t[u]&&$(s.ownParams,i,e.fromParams);)s=o[++u];return{keep:u,retained:t.slice(0,u),exiting:t.slice(u),entering:o.slice(u)}}function w(e,t){return e.name.split(".").length-t.name.split(".").length}var x={getInactiveStates:function(){return u(s,e.identity).sort(w)},getInactiveStatesByParent:function(){return d()},processTransition:function(t){function r(e){return function(t){return-1===e.indexOf(t)}}function n(e,t){return e.concat(t)}function a(e){return function(t){return t[e]}}function o(e){return function(t){return t.type===e}}function i(e){return function(t){return t.parent===e}}function u(e){return!e.sticky}var s,c,l,f=y(t),d=x.getInactiveStates(),h=f.keep,m=r(f.entering),$=f.exiting[0]&&f.exiting[0].sticky&&f.entering.length>0;c=f.exiting.map(function(e){var t=-1!==f.entering.indexOf(e),r=$&&!t?"inactivate":"exit";return{type:r,state:e}});var g=t.options&&!!t.options.reload;l=f.entering.map(function(e){var r=v(e,t.toParams,t.reloadStateTree,g);return g=g||"reload"===r,{type:r,state:e}});var b=f.entering.map(function(e){return d.filter(i(e.parent))}).reduce(n,[]).filter(m).filter(u).concat(d.filter(i(t.toState))),S=p(),E=b.map(function(e){return S[e.name]}).filter(e.isDefined).reduce(n,[]).concat(b).sort(w),j=c.filter(o("exit")).map(a("state")).concat(E);return s=d.filter(r(j)).filter(r(f.entering)).concat(c.filter(o("inactivate")).map(a("state"))).sort(w),{keep:h,enter:new Array(h).concat(l.map(a("type"))),exit:new Array(h).concat(c.map(a("type"))),inactives:s,reactivatingStates:l.filter(o("reactivate")).map(a("state")),orphans:E}},stateInactivated:function(e){s[e.self.name]=e,e.self.status="inactive",e.self.onInactivate&&c.invoke(e.self.onInactivate,e.self,e.locals.globals)},stateReactivated:function(e){s[e.self.name]&&delete s[e.self.name],e.self.status="entered",e.self.onReactivate&&c.invoke(e.self.onReactivate,e.self,e.locals.globals)},stateExiting:function(t,r,n){var a={};e.forEach(r,function(e){a[e.self.name]=!0}),e.forEach(s,function(r,n){!a[n]&&r.includes[t.name]&&(l&&f.debug("Exiting "+n+" because it's a substate of "+t.name+" and wasn't found in ",a),r.self.onExit&&c.invoke(r.self.onExit,r.self,r.locals.globals),e.forEach(r.locals,function(e,t){delete L.locals[t]}),r.locals=null,r.self.status="exited",delete s[n])}),n&&c.invoke(n,t.self,t.locals.globals),t.locals=null,t.self.status="exited",delete s[t.self.name]},stateEntering:function(e,t,r,n){var a=m(e);if(a&&(n||!m(e,t))){var o=e.locals;this.stateExiting(a),e.locals=o}e.self.status="entered",r&&c.invoke(r,e.self,e.locals.globals)},reset:function(n,a){function o(e){x.reset(e)}if("*"===n)return e.forEach(x.getInactiveStates(),o),!0;var i=r.get(n);if(!i)return!1;var u=m(i,a);return!!u&&(x.stateExiting(u),t.$broadcast("$viewContentLoading"),!0)}};return x}]}function f(e){return{resolve:{},locals:{globals:j&&j.locals&&j.locals.globals},views:{},self:{},params:{},ownParams:A.hasParamSet?{$$equals:function(){return!0}}:[],surrogateType:e}}var d=e.module("ct.ui.router.extras.core",["ui.router"]),p={},h=[];d.config(["$stateProvider","$injector",function(t,r){t.decorator("parent",function(t,r){return p[t.self.name]=t,t.self.$$state=function(){return p[t.self.name]},e.forEach(h,function(e){e(t)}),r(t)})}]);var v=e.forEach,m=e.extend,$=e.isArray,g=function(e,t){"use strict";var r=[];return v(e,function(e,n){r.push(t(e,n))}),r},y=function(e){"use strict";return g(e,function(e,t){return t})},w=function(e,t){"use strict";var r=[];return v(e,function(e,n){t(e,n)&&r.push(e)}),r},x=function(e,t){"use strict";var r={};return v(e,function(e,n){t(e,n)&&(r[n]=e)}),r};d.provider("uirextras_core",function(){var t={internalStates:p,onStateRegistered:s,forEach:v,extend:m,isArray:$,map:g,keys:y,filter:w,filterObj:x,ancestors:r,objectKeys:n,protoKeys:a,arraySearch:o,inheritParams:i,inherit:u};e.extend(this,t),this.$get=function(){return t}});var b;e.module("ct.ui.router.extras.dsr",["ct.ui.router.extras.core"]).config(["$provide",function(e){var t;e.decorator("$state",["$delegate","$q",function(e,r){return t=e.transitionTo,e.transitionTo=function(n,a,o){return o&&o.ignoreDsr&&(b=o.ignoreDsr),t.apply(e,arguments).then(function(e){return c(),e},function(e){return c(),r.reject(e)})},e}])}]),e.module("ct.ui.router.extras.dsr").service("$deepStateRedirect",["$rootScope","$state","$injector",function(r,n,a){function o(e){var t=e.name;return f.hasOwnProperty(t)?f[t]:void u(t)}function i(t){var r=t.deepStateRedirect||t.dsr;if(!r)return{dsr:!1};var n={dsr:!0};return e.isFunction(r)?n.fn=r:e.isObject(r)&&(n=e.extend(n,r)),e.isString(n.default)&&(n.default={state:n.default}),n.fn||(n.fn=["$dsr$",function(e){return e.redirect.state!=e.to.state}]),n}function u(e){var r=n.get(e);if(!r)return!1;var a=i(r);a.dsr&&(f[r.name]=d,l[e]===t&&(l[e]={}));var o=r.$$state&&r.$$state().parent;if(o){var s=u(o.self.name);s&&f[r.name]===t&&(f[r.name]=p)}return f[r.name]||!1}function s(r,n){n===!0&&(n=Object.keys(r)),null!==n&&n!==t||(n=[]);var a={};return e.forEach(n.sort(),function(e){a[e]=r[e]}),a}function c(t,r){function n(e){return e?e.toString():e}var a=s(t,r),o={};return e.forEach(a,function(e,t){o[t]=n(e)}),e.toJson(o)}var l={},f={},d="Redirect",p="AncestorRedirect";return r.$on("$stateChangeStart",function(t,r,u,f,p){var h=i(r);if(!b&&(o(r)===d||h.default)){var v=c(u,h.params),m=l[r.name][v]||h.default;if(m){var $={redirect:{state:m.state,params:m.params},to:{state:r.name,params:u}},g=a.invoke(h.fn,r,{$dsr$:$});if(g){g.state&&(m=g),t.preventDefault();var y=s(u,h.params);n.go(m.state,e.extend(y,m.params))}}}}),r.$on("$stateChangeSuccess",function(t,r,a,u,s){var f=o(r);if(f){var d=r.name;e.forEach(l,function(t,o){var u=i(n.get(o)),s=c(a,u.params);r.$$state().includes[o]&&(l[o][s]={state:d,params:e.copy(a)})})}}),{getRedirect:function(e,t){var r=n.get(e);o(r);var a=i(r),u=c(t,a.params),s=l[r.name];return s=s&&s[u]?s[u]:a.default},reset:function(t,r){if(t){var a=n.get(t);if(!a)throw new Error("Unknown state: "+t);if(l[a.name])if(r){var o=c(r,i(a).params);delete l[a.name][o]}else l[a.name]={}}else e.forEach(l,function(e,t){l[t]={}})}}}]),e.module("ct.ui.router.extras.dsr").run(["$deepStateRedirect",function(e){}]),e.module("ct.ui.router.extras.sticky",["ct.ui.router.extras.core"]);var S=e.module("ct.ui.router.extras.sticky");l.$inject=["$stateProvider","uirextras_coreProvider"],S.provider("$stickyState",l);var E,j,P,L,p={},O=[],k={},A={hasParamSet:!1};e.module("ct.ui.router.extras.sticky").run(["$stickyState",function(e){E=e}]),e.module("ct.ui.router.extras.sticky").config(["$provide","$stateProvider","$stickyStateProvider","$urlMatcherFactoryProvider","uirextras_coreProvider",function(r,n,a,o,i){function u(t,r,n){function a(e,t,r){return e[t]?e[t].toUpperCase()+": "+r.self.name:"("+r.self.name+")"}var o=h(n.inactives,function(e){return e.self.name}),i=h(r.toState.path,function(e,t){return a(n.enter,t,e)}),u=h(r.fromState.path,function(e,t){return a(n.exit,t,e)}),s=r.fromState.self.name+": "+e.toJson(r.fromParams)+":  -> "+r.toState.self.name+": "+e.toJson(r.toParams);t.debug("------------------------------------------------------"),t.debug("   Current transition: ",s),t.debug("Before transition, inactives are:   : ",h(E.getInactiveStates(),function(e){return e.self.name})),t.debug("After transition,  inactives will be: ",o),t.debug("Transition will exit:  ",u),t.debug("Transition will enter: ",i)}function s(e,t,r){e.debug("Current state: "+t.self.name+", inactive states: ",h(E.getInactiveStates(),function(e){return e.self.name}));for(var n=function(e,t){return"globals"!=t&&"resolve"!=t},a=function(e){var t=v(e.locals,n);return Object.keys(t).length||(t[""]={$$state:{name:null}}),h(t,function(t,r){return{localsFor:e.self.name?e.self.name:"(root)",uiViewName:r||null,filledByState:t.$$state.name}})},o=a(t),i=t.parent;i&&i!==t;)o=o.concat(a(i)),t=i,i=t.parent;e.debug("Views active on each state:"),console.table(o.reverse())}var c=i,l=c.internalStates,d=c.inherit,p=(c.inheritParams,c.forEach),h=c.map,v=c.filterObj;A.hasParamSet=!!o.ParamSet,L=e.extend(new f("__inactives"),{self:{name:"__inactives"}}),j=P=t,O=[],i.onStateRegistered(function(e){e.self.sticky===!0&&a.registerStickyState(e.self)});var m;r.decorator("$state",["$delegate","$log","$q",function(r,n,i){return j=r.$current,l[""]=j,j.parent=L,L.parent=t,L.locals=d(k,L.locals),j.locals=d(L.locals,j.locals),delete L.locals.globals,m=r.transitionTo,r.transitionTo=function(t,c,d){function v(t){var r=e.extend(new f("reactivate_phase1"),{locals:t.locals});return r.self=e.extend({},t.self),r}function $(t){var r=e.extend(new f("reactivate_phase2"),t),n=r.self.onEnter;return r.resolve={},r.views={},r.self.onEnter=function(){r.locals=t.locals,E.stateReactivated(t)},V.addRestoreFunction(function(){t.self.onEnter=n}),r}function g(e){var t=new f("inactivate");t.self=e.self;var r=e.self.onExit;return t.self.onExit=function(){E.stateInactivated(e)},V.addRestoreFunction(function(){e.self.onExit=r}),t}function y(e,t){var r=e.self.onEnter;return e.self.onEnter=function(){E.stateEntering(e,t,r)},V.addRestoreFunction(function(){e.self.onEnter=r}),e}function w(e,t){var r=e.self.onEnter;return e.self.onEnter=function(){E.stateEntering(e,t,r,!0)},V.addRestoreFunction(function(){e.self.onEnter=r}),e}function x(e){var t=e.self.onExit;return e.self.onExit=function(){E.stateExiting(e,N,t)},V.addRestoreFunction(function(){e.self.onExit=t}),e}var b=a.debugMode();L.locals||(L.locals=j.locals);var S=O.length;P&&(P(),b&&n.debug("Restored paths from pending transition"));var C,q,_,F,I=r.$current,D=r.params,M=d&&d.relative||r.$current,R=r.get(t,M),z=[],N=[];c=c||{},arguments[1]=c;var T=function(){},V=function(){C&&(U.path=C,C=null),q&&(I.path=q,q=null),e.forEach(V.restoreFunctions,function(e){e()}),V=T,P=null,O.splice(S,1)};if(V.restoreFunctions=[],V.addRestoreFunction=function(e){this.restoreFunctions.push(e)},R){var U=l[R.name];if(U){C=U.path,q=I.path;var B=d&&d.reload||!1,J=B&&(B===!0?C[0].self:r.get(B,M));d&&B&&B!==!0&&delete d.reload;var K={toState:U,toParams:c||{},fromState:I,fromParams:D||{},options:d,reloadStateTree:J};if(O.push(K),P=V,J){K.toParams.$$uirouterextrasreload=Math.random();var Y=J.$$state().params,H=J.$$state().ownParams;if(A.hasParamSet){var W=new o.Param("$$uirouterextrasreload");Y.$$uirouterextrasreload=H.$$uirouterextrasreload=W,V.restoreFunctions.push(function(){delete Y.$$uirouterextrasreload,delete H.$$uirouterextrasreload})}else Y.push("$$uirouterextrasreload"),H.push("$$uirouterextrasreload"),V.restoreFunctions.push(function(){Y.length=Y.length-1,H.length=H.length-1})}_=E.processTransition(K),b&&u(n,K,_);var Q=U.path.slice(0,_.keep),G=I.path.slice(0,_.keep);e.forEach(L.locals,function(e,t){-1!=t.indexOf("@")&&delete L.locals[t]});var X=function(e){return function(t,r){-1!==r.indexOf("@")&&(e[r]=t)}};p(_.inactives,function(e){p(e.locals,X(L.locals))}),p(_.reactivatingStates,function(e){p(e.locals,X(k))}),V.addRestoreFunction(function(){p(k,function(e,t){delete k[t]})}),e.forEach(_.enter,function(e,t){var r,n=U.path[t];"reactivate"===e?(r=v(n),Q.push(r),G.push(r),z.push($(n)),F=n):"reload"===e?(Q.push(w(n)),F=n):"enter"===e&&Q.push(y(n))}),e.forEach(_.exit,function(e,t){var r=I.path[t];"inactivate"===e?(G.push(g(r)),N.push(r)):"exit"===e&&(G.push(x(r)),N.push(r))}),z.length&&e.forEach(z,function(e){Q.push(e)});var Z=_.orphans;G=G.concat(h(Z,function(e){return x(e)})),N=N.concat(Z),I.path=G,U.path=Q;var ee=function(e){return(e.surrogateType?e.surrogateType+":":"")+e.self.name};b&&n.debug("SurrogateFromPath: ",h(G,ee)),b&&n.debug("SurrogateToPath:   ",h(Q,ee))}}var te=m.apply(r,arguments);return te.then(function(e){return V(),b&&s(n,l[e.name],r),e.status="active",e},function(e){return V(),b&&"transition prevented"!==e.message&&"transition aborted"!==e.message&&"transition superseded"!==e.message&&(n.debug("transition failed",e),n.debug(e.stack)),i.reject(e)})},r}])}]),function(e,t){function r(t,r,n,a){function o(t,r){var n=e.isObject(t)?t.name:t;return r?p[n]:f[n]}function i(e,t){if(t.name){var r=t.name.split(/\./);for("."===t.name.charAt(0)&&(r[0]=e.current.name);r.length;){var n=r.join(".");if(e.get(n,{relative:e.current}))return null;if(p[n])return p[n];r.pop()}}if(t.url){var a=[];for(var o in p){var i=p[o].urlMatcher;i&&i.exec(t.url)&&a.push(p[o])}for(var u=a.slice(0),s=a.length-1;s>=0;s--)for(var c=0;c<u.length;c++)a[s]===u[c].parentFutureState&&a.splice(s,1);return a[0]}}function u(e,t){function r(){delete p[t.name]}function n(e){return"remove"===f&&r(),a.reject(e)}h=!0;var a=e.get("$q");if(!t){var o=a.defer();return o.reject("No lazyState passed in "+t),o.promise}var i=a.when([]),s=t.parentFutureState;s&&p[s.name]&&(i=u(e,p[s.name]));var c=t.type,l=d[c];if(!l)throw Error("No state factory for futureState.type: "+(t&&t.type));var f=l.$options&&l.$options.failedLazyLoadPolicy||"remove";return i.then(function(n){var a=e.invoke(l,l,{futureState:t});return a.then(function(e){return r(),e&&n.push(e),n})}).catch(n)}function s(e,r){var n=!1,a=["$rootScope","$urlRouter","$state",function(a,o,s){function l(){n=!0,o.sync(),n=!1}if(!m)return c().then(l),void(m=!0);var f=i(s,{url:r.path()});return f?void u(e,f).then(function(e){e.forEach(function(e){e&&(!s.get(e)||e.name&&!s.get(e.name))&&t.state(e)}),h=!1,l()},function(){h=!1,l()}):e.invoke(g)}];if(!h){var o=n?g:a;return e.invoke(o)}}var c,l=a,f=l.internalStates,d={},p={},h=!1,v=[],m=!1,$=this;this.addResolve=function(e){v.push(e)},this.stateFactory=function(e,t){d[e]=t},this.futureState=function(t){t.stateName&&(t.name=t.stateName),t.urlPrefix&&(t.url="^"+t.urlPrefix),p[t.name]=t;var r,a=t.name.split(/\./).slice(0,-1).join("."),i=o(t.parent||a);if(i)r=i.url||i.navigable&&i.navigable.url;else if(""===a)r=n.compile("");else{var u=o(t.parent||a,!0);if(!u)throw new Error("Couldn't determine parent state of future state. FutureState:"+e.toJson(t));var s;s=u.urlMatcher?u.urlMatcher.source.replace(/\*rest$/,""):"",r=n.compile(s),t.parentFutureState=u}t.url&&(t.urlMatcher="^"===t.url.charAt(0)?n.compile(t.url.substring(1)+"*rest"):r.concat(t.url+"*rest"))},this.get=function(){return e.extend({},p)};var g=["$log","$location",function(e,t){}];r.otherwise(s),r.otherwise=function(t){if(e.isString(t)){var n=t;t=function(){return n}}else if(!e.isFunction(t))throw new Error("'rule' must be a function");return g=["$injector","$location",t],r};var y={getResolvePromise:function(){return c()}};this.$get=["$injector","$state","$q","$rootScope","$urlRouter","$timeout","$log",function(r,n,a,o,s,l,f){function d(){if(o.$on("$stateNotFound",function(e,a,o,s){if(!h){var c=i(n,{name:a.to});if(c){e.preventDefault();var l=u(r,c);l.then(function(e){e.forEach(function(e){e&&(!n.get(e)||e.name&&!n.get(e.name))&&t.state(e)}),n.go(a.to,a.toParams,a.options),h=!1},function(e){console.log("failed to lazy load state ",e),o.name&&n.go(o,s),h=!1})}}}),!c){var f=[];e.forEach(v,function(e){f.push(r.invoke(e))}),c=function(){return a.all(f)}}c().then(function e(){l(function(){n.transition?n.transition.then(e,e):s.sync()})})}return d(),y.state=t.state,y.futureState=$.futureState,y.get=$.get,y}]}var n=e.module("ct.ui.router.extras.future",["ct.ui.router.extras.core"]);r.$inject=["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","uirextras_coreProvider"],n.provider("$futureState",r);var a={state:function(e){a.$rootScope&&a.$rootScope.$broadcast("$stateAdded",e)},itsNowRuntimeOhWhatAHappyDay:function(e){a.$rootScope=e},$rootScope:t};n.config(["$stateProvider",function(t){var r=t.state;t.state=function(){var n=r.apply(t,arguments),o=e.isObject(arguments[0])?arguments[0]:arguments[1];return a.state(o),n}}]),n.run(["$futureState",function(e,t){a.itsNowRuntimeOhWhatAHappyDay(t)}])}(e),e.module("ct.ui.router.extras.previous",["ct.ui.router.extras.core","ct.ui.router.extras.transition"]).service("$previousState",["$rootScope","$state","$q",function(e,r,n){var a=null,o=null,i={};e.$on("$transitionStart",function(e,t){function r(){o=null}function n(){a=o}var i=t.from,u=i.state&&i.state.$$state&&i.state.$$state();u&&(o=a,a=t.from,t.promise.then(r).catch(n))});var u={get:function(e){return e?i[e]:a},set:function(e,t,n){i[e]={state:r.get(t),params:n}},go:function(e,t){var a=u.get(e);return a?r.go(a.state,a.params,t):n.reject(new Error("no previous state "+(e?"for memo: "+e:"")))},memo:function(e,t,n){i[e]=a||{state:r.get(t),params:n}},forget:function(e){e?delete i[e]:a=t}};return u}]),e.module("ct.ui.router.extras.previous").run(["$previousState",function(e){}]),e.module("ct.ui.router.extras.transition",["ct.ui.router.extras.core"]).config(["$provide",function(t){t.decorator("$state",["$delegate","$rootScope","$q","$injector",function(t,r,n,a){function o(t){var r=a.invoke,n=a.instantiate;return a.invoke=function(n,a,o){return r(n,a,e.extend({$transition$:t},o))},a.instantiate=function(r,a){return n(r,e.extend({$transition$:t},a))},function(){a.invoke=r,a.instantiate=n}}function i(){d.pop()(),f.pop(),l--}function u(e,t){return function(n){return i(),r.$broadcast("$transitionSuccess",t),e.resolve(n),n}}function s(e,t){return function(a){return i(),r.$broadcast("$transitionError",t,a),e.reject(a),n.reject(a)}}var c=t.transitionTo,l=-1,f=[],d=[];return t.transitionTo=function(e,r,a){var o=n.defer(),i=f[++l]={promise:o.promise};d[l]=function(){};var p=c.apply(t,arguments);return p.then(u(o,i),s(o,i))},r.$on("$stateChangeStart",function(t,n,a,i,u){if(!(l>=f.length)){var s=l,c=e.extend(f[s],{to:{state:n,params:a},from:{state:i,params:u}}),p=o(c);d[s]=p,r.$broadcast("$transitionStart",c)}}),t}])}]),function(){"use strict";function t(t,r,n){return{scope:{width:"@",height:"@"},restrict:"AE",template:"<svg></svg>",link:function(r,a,o){function i(t){t=t.map(function(t){return""===t.name?d:e.copy(t)}),e.extend(s,t.reduce(function(e,t){return e[t.name]=t,e},{})),t.forEach(function(e){var t=e.name.split(/\./).slice(0,-1).join("."),r=e.name!=t&&s[t];r&&((r.children||(r.children=[])).push(e),e.px=r.px,e.py=r.py,p.push(e))})}function u(){function e(e){var t=e.name.split(".").pop();return e.sticky&&(t+=" (STICKY)"),e.deepStateRedirect&&(t+=" (DSR)"),t}$=$.data(f.nodes(d),function(e){return e.name}),g=g.data(f.links(p),function(e){return e.target.name}),y=y.data(h),p.forEach(function(e){e.y=70*e.depth});var t=$.enter();y.enter().append("circle").attr("class","active").attr("r",13).attr("cx",function(e){return e.parent.px||100}).attr("cy",function(e){return e.parent.py||100}),t.append("circle").attr("class","node").attr("r",9).attr("cx",function(e){return e.parent.px}).attr("cy",function(e){return e.parent.py}),t.append("text").attr("class","label").attr("x",function(e){return e.parent.px}).attr("y",function(e){return e.parent.py}).attr("text-anchor",function(e){return"middle"}).text(e).style("fill-opacity",1),g.enter().insert("path",".node").attr("class","link").attr("d",function(e){var t={x:e.source.px,y:e.source.py};return v({source:t,target:t})});var r=m.transition().duration(x);r.selectAll(".link").attr("d",v);var n={entered:"#AF0",exited:"#777",active:"#0f0",inactive:"#55F",future:"#009"};r.selectAll(".node").attr("cx",function(e){return e.px=e.x}).attr("cy",function(e){return e.py=e.y}).attr("r",function(e){return"active"===e.status?15:10}).style("fill",function(e){return n[e.status]||"#FFF"}),r.selectAll(".label").attr("x",function(e){return e.px=e.x}).attr("y",function(e){return e.py=e.y-15}).attr("transform",function(e){return"rotate(-25 "+e.x+" "+e.y+")"}),r.selectAll(".active").attr("x",function(e){return e.px=e.x}).attr("y",function(e){return e.py=e.y-15})}var s={},c=r.width||400,l=r.height||400,f=d3.layout.tree().size([c-20,l-20]).separation(function(e,t){return e.parent==t.parent?10:25}),d=t.get().filter(function(e){return""===e.name})[0],p=f(d);d.parent=d,d.px=d.x=c/2,d.py=d.y=l/2;var h={};h.px=h.x=d.px,h.py=h.y=d.py;var v=d3.svg.diagonal(),m=d3.select(a.find("svg")[0]).attr("width",c).attr("height",l).append("g").attr("transform","translate(10, 10)"),$=m.selectAll(".node"),g=m.selectAll(".link"),y=m.selectAll(".active"),w=200,x=200;setInterval(u,w),n(function(){r.states=t.get(),e.forEach(p,function(e){var r=t.get(e.name);r&&(e.status=r.status||"exited")})},250),r.$watchCollection("states",function(e,t){var r=(t||[]).map(function(e){return e.name});i((e||[]).filter(function(e){return-1==r.indexOf(e.name)}))}),u(w)}}}var r=e.module("ct.ui.router.extras.statevis",["ct.ui.router.extras.core","ct.ui.router.extras.sticky"]);r.directive("stateVis",["$state","$timeout","$interval",t])}(),e.module("ct.ui.router.extras",["ct.ui.router.extras.core","ct.ui.router.extras.dsr","ct.ui.router.extras.future","ct.ui.router.extras.previous","ct.ui.router.extras.statevis","ct.ui.router.extras.sticky","ct.ui.router.extras.transition"])}),function(e,t){"use strict";var r=["ng","oc.lazyLoad"],n={},a=[],o=[],i=[],u=[],s=e.noop,c={},l=[],f=e.module("oc.lazyLoad",["ng"]);f.provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(f,d,v,m,$,g){function y(t,n,a){if(n){var o,u,f,d=[];for(o=n.length-1;o>=0;o--)if(u=n[o],e.isString(u)||(u=b(u)),u&&l.indexOf(u)===-1&&(!E[u]||i.indexOf(u)!==-1)){var p=r.indexOf(u)===-1;if(f=h(u),p&&(r.push(u),y(t,f.requires,a)),f._runBlocks.length>0)for(c[u]=[];f._runBlocks.length>0;)c[u].push(f._runBlocks.shift());e.isDefined(c[u])&&(p||a.rerun)&&(d=d.concat(c[u])),x(t,f._invokeQueue,u,a.reconfig),x(t,f._configBlocks,u,a.reconfig),s(p?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",u),n.pop(),l.push(u)}var v=t.getInstanceInjector();e.forEach(d,function(e){v.invoke(e)})}}function w(t,r){function a(t,r){var n,a=!0;return r.length&&(n=o(t),e.forEach(r,function(e){a=a&&o(e)!==n})),a}function o(t){return e.isArray(t)?C(t.toString()):e.isObject(t)?C(A(t)):e.isDefined(t)&&null!==t?C(t.toString()):t}var i=t[2][0],u=t[1],c=!1;e.isUndefined(n[r])&&(n[r]={}),e.isUndefined(n[r][u])&&(n[r][u]={});var l=function(e,t){n[r][u].hasOwnProperty(e)||(n[r][u][e]=[]),a(t,n[r][u][e])&&(c=!0,n[r][u][e].push(t),s("ocLazyLoad.componentLoaded",[r,u,e]))};if(e.isString(i))l(i,t[2][1]);else{if(!e.isObject(i))return!1;e.forEach(i,function(t,r){e.isString(t)?l(t,i[1]):l(r,t)})}return c}function x(t,r,n,o){if(r){var i,u,s,c;for(i=0,u=r.length;i<u;i++)if(s=r[i],e.isArray(s)){if(null!==t){if(!t.hasOwnProperty(s[0]))throw new Error("unsupported provider "+s[0]);c=t[s[0]]}var l=w(s,n);if("invoke"!==s[1])l&&e.isDefined(c)&&c[s[1]].apply(c,s[2]);else{var f=function(t){var r=a.indexOf(n+"-"+t);(r===-1||o)&&(r===-1&&a.push(n+"-"+t),e.isDefined(c)&&c[s[1]].apply(c,s[2]))};if(e.isFunction(s[2][0]))f(s[2][0]);else if(e.isArray(s[2][0]))for(var d=0,p=s[2][0].length;d<p;d++)e.isFunction(s[2][0][d])&&f(s[2][0][d])}}}}function b(t){var r=null;return e.isString(t)?r=t:e.isObject(t)&&t.hasOwnProperty("name")&&e.isString(t.name)&&(r=t.name),r}function S(t){if(!e.isString(t))return!1;try{return h(t)}catch(e){if(/No module/.test(e)||e.message.indexOf("$injector:nomod")>-1)return!1}}var E={},j={$controllerProvider:f,$compileProvider:v,$filterProvider:m,$provide:d,$injector:$,$animateProvider:g},P=!1,L=!1,O=[],k={};O.push=function(e){this.indexOf(e)===-1&&Array.prototype.push.apply(this,arguments)},this.config=function(t){e.isDefined(t.modules)&&(e.isArray(t.modules)?e.forEach(t.modules,function(e){E[e.name]=e}):E[t.modules.name]=t.modules),e.isDefined(t.debug)&&(P=t.debug),e.isDefined(t.events)&&(L=t.events)},this._init=function(n){if(0===o.length){var a=[n],i=["ng:app","ng-app","x-ng-app","data-ng-app"],s=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,c=function(e){return e&&a.push(e)};e.forEach(i,function(t){i[t]=!0,c(document.getElementById(t)),t=t.replace(":","\\:"),"undefined"!=typeof n[0]&&n[0].querySelectorAll&&(e.forEach(n[0].querySelectorAll("."+t),c),e.forEach(n[0].querySelectorAll("."+t+"\\:"),c),e.forEach(n[0].querySelectorAll("["+t+"]"),c))}),e.forEach(a,function(t){if(0===o.length){var r=" "+n.className+" ",a=s.exec(r);a?o.push((a[2]||"").replace(/\s+/g,",")):e.forEach(t.attributes,function(e){0===o.length&&i[e.name]&&o.push(e.value)})}})}0!==o.length||(t.jasmine||t.mocha)&&e.isDefined(e.mock)||console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.");var l=function t(n){if(r.indexOf(n)===-1){r.push(n);var a=e.module(n);x(null,a._invokeQueue,n),x(null,a._configBlocks,n),e.forEach(a.requires,t)}};e.forEach(o,function(e){l(e)}),o=[],u.pop()};var A=function(t){try{return JSON.stringify(t)}catch(n){var r=[];return JSON.stringify(t,function(t,n){if(e.isObject(n)&&null!==n){if(r.indexOf(n)!==-1)return;r.push(n)}return n})}},C=function(e){var t,r,n,a=0;if(0==e.length)return a;for(t=0,n=e.length;t<n;t++)r=e.charCodeAt(t),a=(a<<5)-a+r,a|=0;return a};this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(t,a,i,c,f){function d(e){var r=f.defer();return t.error(e.message),r.reject(e),r.promise}var v,m=c("ocLazyLoad");return P||(t={},t.error=e.noop,t.warn=e.noop,t.info=e.noop),j.getInstanceInjector=function(){return v?v:v=a.data("$injector")||e.injector()},s=function(e,r){L&&i.$broadcast(e,r),P&&t.info(e,r)},{_broadcast:s,_$log:t,_getFilesCache:function(){return m},toggleWatch:function(e){e?u.push(!0):u.pop()},getModuleConfig:function(t){if(!e.isString(t))throw new Error("You need to give the name of the module to get");return E[t]?e.copy(E[t]):null},setModuleConfig:function(t){if(!e.isObject(t))throw new Error("You need to give the module config object to set");return E[t.name]=t,t},getModules:function(){return r},isLoaded:function(t){var n=function(e){var t=r.indexOf(e)>-1;return t||(t=!!S(e)),t};if(e.isString(t)&&(t=[t]),e.isArray(t)){var a,o;for(a=0,o=t.length;a<o;a++)if(!n(t[a]))return!1;return!0}throw new Error("You need to define the module(s) name(s)")},_getModuleName:b,_getModule:function(e){try{return h(e)}catch(t){throw(/No module/.test(t)||t.message.indexOf("$injector:nomod")>-1)&&(t.message='The module "'+A(e)+'" that you are trying to load does not exist. '+t.message),t}},moduleExists:S,_loadDependencies:function(t,r){var n,a,o,i=[],u=this;if(t=u._getModuleName(t),null===t)return f.when();try{n=u._getModule(t)}catch(e){return d(e)}return a=u.getRequires(n),e.forEach(a,function(n){if(e.isString(n)){var a=u.getModuleConfig(n);if(null===a)return void O.push(n);n=a,a.name=void 0}if(u.moduleExists(n.name))return o=n.files.filter(function(e){return u.getModuleConfig(n.name).files.indexOf(e)<0}),0!==o.length&&u._$log.warn('Module "',t,'" attempted to redefine configuration for dependency. "',n.name,'"\n Additional Files Loaded:',o),e.isDefined(u.filesLoader)?void i.push(u.filesLoader(n,r).then(function(){return u._loadDependencies(n)})):d(new Error("Error: New dependencies need to be loaded from external files ("+n.files+"), but no loader has been defined."));if(e.isArray(n)){var s=[];e.forEach(n,function(e){var t=u.getModuleConfig(e);null===t?s.push(e):t.files&&(s=s.concat(t.files))}),s.length>0&&(n={files:s})}else e.isObject(n)&&n.hasOwnProperty("name")&&n.name&&(u.setModuleConfig(n),O.push(n.name));if(e.isDefined(n.files)&&0!==n.files.length){if(!e.isDefined(u.filesLoader))return d(new Error('Error: the module "'+n.name+'" is defined in external files ('+n.files+"), but no loader has been defined."));i.push(u.filesLoader(n,r).then(function(){return u._loadDependencies(n)}))}}),f.all(i)},inject:function(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],a=this,i=f.defer();if(e.isDefined(t)&&null!==t){if(e.isArray(t)){var u=[];return e.forEach(t,function(e){u.push(a.inject(e,r,n))}),f.all(u)}a._addToLoadList(a._getModuleName(t),!0,n)}if(o.length>0){var s=o.slice(),c=function e(t){O.push(t),k[t]=i.promise,a._loadDependencies(t,r).then(function(){try{l=[],y(j,O,r)}catch(e){return a._$log.error(e.message),void i.reject(e)}o.length>0?e(o.shift()):i.resolve(s)},function(e){i.reject(e)})};c(o.shift())}else{if(r&&r.name&&k[r.name])return k[r.name];i.resolve()}return i.promise},getRequires:function(t){var n=[];return e.forEach(t.requires,function(e){r.indexOf(e)===-1&&n.push(e)}),n},_invokeQueue:x,_registerInvokeList:w,_register:y,_addToLoadList:p,_unregister:function(t){
e.isDefined(t)&&e.isArray(t)&&e.forEach(t,function(e){n[e]=void 0})}}}],this._init(e.element(t.document))}]);var d=e.bootstrap;e.bootstrap=function(t,f,h){return r=["ng","oc.lazyLoad"],n={},a=[],o=[],i=[],u=[],s=e.noop,c={},l=[],e.forEach(f.slice(),function(e){p(e,!0,!0)}),d(t,f,h)};var p=function(t,r,n){(u.length>0||r)&&e.isString(t)&&o.indexOf(t)===-1&&(o.push(t),n&&i.push(t))},h=e.module;e.module=function(e,t,r){return p(e,!1,!0),h(e,t,r)},"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="oc.lazyLoad")}(angular,window),function(e){"use strict";e.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function(t,r,n,a,o){return{restrict:"A",terminal:!0,priority:1e3,compile:function(o,i){var u=o[0].innerHTML;return o.html(""),function(o,i,s){var c=a(s.ocLazyLoad);o.$watch(function(){return c(o)||s.ocLazyLoad},function(a){e.isDefined(a)&&t.load(a).then(function(){n.enter(u,i),r(i.contents())(o)})},!0)}}}}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(t,r,n,a){var o=!1,i=!1,u=n.document.getElementsByTagName("head")[0]||n.document.getElementsByTagName("body")[0];return t.buildElement=function(s,c,l){var f,d,p=r.defer(),h=t._getFilesCache(),v=function(e){var t=(new Date).getTime();return e.indexOf("?")>=0?"&"===e.substring(0,e.length-1)?e+"_dc="+t:e+"&_dc="+t:e+"?_dc="+t};switch(e.isUndefined(h.get(c))&&h.put(c,p.promise),s){case"css":f=n.document.createElement("link"),f.type="text/css",f.rel="stylesheet",f.href=l.cache===!1?v(c):c;break;case"js":f=n.document.createElement("script"),f.src=l.cache===!1?v(c):c;break;default:h.remove(c),p.reject(new Error('Requested type "'+s+'" is not known. Could not inject "'+c+'"'))}f.onload=f.onreadystatechange=function(e){f.readyState&&!/^c|loade/.test(f.readyState)||d||(f.onload=f.onreadystatechange=null,d=1,t._broadcast("ocLazyLoad.fileLoaded",c),p.resolve(f))},f.onerror=function(){h.remove(c),p.reject(new Error("Unable to load "+c))},f.async=l.serie?0:1;var m=u.lastChild;if(l.insertBefore){var $=e.element(e.isDefined(window.jQuery)?l.insertBefore:document.querySelector(l.insertBefore));$&&$.length>0&&(m=$[0])}if(m.parentNode.insertBefore(f,m),"css"==s){if(!o){var g=n.navigator.userAgent.toLowerCase();if(g.indexOf("phantomjs/1.9")>-1)i=!0;else if(/iP(hone|od|ad)/.test(n.navigator.platform)){var y=n.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),w=parseFloat([parseInt(y[1],10),parseInt(y[2],10),parseInt(y[3]||0,10)].join("."));i=w<6}else if(g.indexOf("android")>-1){var x=parseFloat(g.slice(g.indexOf("android")+8));i=x<4.4}else if(g.indexOf("safari")>-1){var b=g.match(/version\/([\.\d]+)/i);i=b&&b[1]&&parseFloat(b[1])<6}}if(i)var S=1e3,E=a(function(){try{f.sheet.cssRules,a.cancel(E),f.onload()}catch(e){--S<=0&&f.onerror()}},20)}return p.promise},t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,r){return t.filesLoader=function(n){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=[],i=[],u=[],s=[],c=null,l=t._getFilesCache();t.toggleWatch(!0),e.extend(a,n);var f=function(r){var n,f=null;if(e.isObject(r)&&(f=r.type,r=r.path),c=l.get(r),e.isUndefined(c)||a.cache===!1){if(null!==(n=/^(css|less|html|htm|js)?(?=!)/.exec(r))&&(f=n[1],r=r.substr(n[1].length+1,r.length)),!f)if(null!==(n=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(r)))f=n[1];else{if(t.jsLoader.hasOwnProperty("ocLazyLoadLoader")||!t.jsLoader.hasOwnProperty("requirejs"))return void t._$log.error("File type could not be determined. "+r);f="js"}"css"!==f&&"less"!==f||o.indexOf(r)!==-1?"html"!==f&&"htm"!==f||i.indexOf(r)!==-1?"js"===f||u.indexOf(r)===-1?u.push(r):t._$log.error("File type is not valid. "+r):i.push(r):o.push(r)}else c&&s.push(c)};if(a.serie?f(a.files.shift()):e.forEach(a.files,function(e){f(e)}),o.length>0){var d=r.defer();t.cssLoader(o,function(r){e.isDefined(r)&&t.cssLoader.hasOwnProperty("ocLazyLoadLoader")?(t._$log.error(r),d.reject(r)):d.resolve()},a),s.push(d.promise)}if(i.length>0){var p=r.defer();t.templatesLoader(i,function(r){e.isDefined(r)&&t.templatesLoader.hasOwnProperty("ocLazyLoadLoader")?(t._$log.error(r),p.reject(r)):p.resolve()},a),s.push(p.promise)}if(u.length>0){var h=r.defer();t.jsLoader(u,function(r){e.isDefined(r)&&(t.jsLoader.hasOwnProperty("ocLazyLoadLoader")||t.jsLoader.hasOwnProperty("requirejs"))?(t._$log.error(r),h.reject(r)):h.resolve()},a),s.push(h.promise)}if(0===s.length){var v=r.defer(),m="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";return t._$log.error(m),v.reject(m),v.promise}return a.serie&&a.files.length>0?r.all(s).then(function(){return t.filesLoader(n,a)}):r.all(s).finally(function(e){return t.toggleWatch(!1),e})},t.load=function(n){var a,o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=this,u=null,s=[],c=r.defer(),l=e.copy(n),f=e.copy(o);if(e.isArray(l))return e.forEach(l,function(e){s.push(i.load(e,f))}),r.all(s).then(function(e){c.resolve(e)},function(e){c.reject(e)}),c.promise;if(e.isString(l)?(u=i.getModuleConfig(l),u||(u={files:[l]})):e.isObject(l)&&(u=e.isDefined(l.path)&&e.isDefined(l.type)?{files:[l]}:i.setModuleConfig(l)),null===u){var d=i._getModuleName(l);return a='Module "'+(d||"unknown")+'" is not configured, cannot load.',t._$log.error(a),c.reject(new Error(a)),c.promise}e.isDefined(u.template)&&(e.isUndefined(u.files)&&(u.files=[]),e.isString(u.template)?u.files.push(u.template):e.isArray(u.template)&&u.files.concat(u.template));var p=e.extend({},f,u);return e.isUndefined(u.files)&&e.isDefined(u.name)&&t.moduleExists(u.name)?t.inject(u.name,p,!0):(t.filesLoader(u,p).then(function(){t.inject(null,p).then(function(e){c.resolve(e)},function(e){c.reject(e)})},function(e){c.reject(e)}),c.promise)},t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,r){return t.cssLoader=function(n,a,o){var i=[];e.forEach(n,function(e){i.push(t.buildElement("css",e,o))}),r.all(i).then(function(){a()},function(e){a(e)})},t.cssLoader.ocLazyLoadLoader=!0,t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,r){return t.jsLoader=function(n,a,o){var i=[];e.forEach(n,function(e){i.push(t.buildElement("js",e,o))}),r.all(i).then(function(){a()},function(e){a(e)})},t.jsLoader.ocLazyLoadLoader=!0,t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(t,r,n,a){return t.templatesLoader=function(o,i,u){var s=[],c=t._getFilesCache();return e.forEach(o,function(t){var o=n.defer();s.push(o.promise),a.get(t,u).then(function(n){var a=n.data;e.isString(a)&&a.length>0&&e.forEach(e.element(a),function(e){"SCRIPT"===e.nodeName&&"text/ng-template"===e.type&&r.put(e.id,e.innerHTML)}),e.isUndefined(c.get(t))&&c.put(t,!0),o.resolve()}).catch(function(e){o.reject(new Error('Unable to load template file "'+t+'": '+e.data))})}),n.all(s).then(function(){i()},function(e){i(e)})},t.templatesLoader.ocLazyLoadLoader=!0,t}])}])}(angular),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var r;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),a=n.length>>>0;if(0===a)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),o>=a)return-1;for(r=Math.max(o>=0?o:a-Math.abs(o),0);r<a;){if(r in n&&n[r]===e)return r;r++}return-1});
!function(){"use strict";angular.module("scp.router",["ui.router","oc.lazyLoad","ct.ui.router.extras","scp.core.auth","scp.router.lazyload","scp.router.url"])}(),function(){"use strict";angular.module("scp.router.lazyload",[])}(),function(){"use strict";angular.module("scp.router.url",[])}(),function(){"use strict";function r(r,t,n,e,u,a){function o(r,t,n,e){function u(){return a.map(arguments,a.ary(t.addPart,1)),n.refresh()}function o(t){return r.trustAsResourceUrl(t)}function s(){function r(){return e.all("pkg").all(n.name)}function t(r){return o(n.asset(r))}var n=c.apply(null,arguments);return n.trustedAsset=t,n.api=r,n}var l=a.clone(v);return l.trusted=o,l.package=s,l.export=i,l.loadLang=u,l}function i(r){return new s(r)}function s(r){function t(r){return u=n(r),e}function n(r){return u+"/"+r}var e=this,u="vendor/"+r;e.root=t,e.path=n}function c(r){return new d(r)}function l(r){return"app/"+r}function f(t){return r.urlTransformers.map(function(r){t=r(t)}),t}function p(r){return f("vendor/scp-angle/dist/"+r)}function d(r){function o(t,e){function u(){var r=a.map(arguments);return r[0]=s(r[0]),e.apply(e,r)}n.map("pkg."+r+"."+t,u)}function i(r,t){function n(){var r=a.map(arguments);return r[0]=s(r[0]),t.apply(t,r)}return e.map(g+r,n),m}function s(r){function t(){var t=a.map(arguments);return t[0]=m.baseState+"."+t[0],r.href.apply(r,t)}var n=a.clone(r);return n.href=t,n}function c(t){return"lang:pkg:"+r+":"+t}function l(t){u.state(m.baseState,a.defaults({},t||{},{url:"/"+r,abstract:!0,template:v.dummyTemplate}))}function f(r,t){return r?(u.state(m.baseState+"."+r,t),m):(l(t),m)}function p(r){return t.baseUrl()+g+r}function d(r){return"raw:"+p(r)}var m=this,g="pkg/"+r+"/";m.baseState="app.pkg."+r,m.name=r,m.asset=p,m.lang=c,m.state=f,m.raw=d,m.url=i,m.sso=o}function m(){function t(t,e,u,o,i){function s(r){var n=t.when(r);return"function"==typeof r?n.then(r):d=n.then(c.bind(null,r,d)).catch(function(t){console.error("Error loading: ",r,t)})}function c(r,t){function n(){return c(s,f)}var e=r.split(":"),a=e.shift(),s=e.join(":");switch(a){case"lang":return p(s),i.loadLang(s);case"inject":return u.get(s)();case"raw":return p(s),o.load(s);case"after":var f=t.then(n);return f}var d=l(r);return d?(p(d),o.load(d)):$.error("Route resolve: Bad resource name ["+r+"]")}function l(t){if(r.modules)for(var n in r.modules)if(r.modules[n].name&&r.modules[n].name===t)return r.modules[n];return r.scripts&&r.scripts[t]}function p(r){var t=null;if(a.isObject(r)&&a.isArray(r.files))t=r.files;else{if(!a.isArray(r))return r;t=r}return t.map(function(r,n){t[n]=f(t[n])}),r}var d;return t.all(a.map(n,s))}t.$inject=["$q","$timeout","$injector","$ocLazyLoad","RouteHelpers"];var n=arguments;return{deps:t}}o.$inject=["$sce","$translateModuleLoader","$translate","Api"];var v={sso:n,url:e,state:u.state,basepath:l,themepath:p,resolveFor:m,dummyTemplate:"<ui-view />",package:c,$get:o};return v}r.$inject=["APP_REQUIRES","ApiProvider","SsoUrlProvider","UrlProvider","$stateProvider","_"],angular.module("scp.router").provider("RouteHelpers",r)}(),function(){"use strict";function r(r){r.hashPrefix("")}r.$inject=["$locationProvider"],angular.module("scp.router").config(r)}(),function(){"use strict";function r(r,t){r.config({debug:!1,events:!0,modules:t.modules})}r.$inject=["$ocLazyLoadProvider","APP_REQUIRES"],angular.module("scp.router.lazyload").config(r)}(),function(){"use strict";angular.module("scp.router.lazyload").constant("APP_REQUIRES",{scripts:{},modules:[],urlTransformers:[]})}(),function(){"use strict";function r(){function r(){return o}function e(r){o=r}function u(r,n){return new t(r,n,s,i)}function a(r,t){i.push(new n(r,t))}u.$inject=["_","$state"];var o,i=[],s={$get:u,map:a,getBaseState:r,setBaseState:e};return s}function t(r,t,n,e){function u(t){function n(r,n){return r||a(n,t)}return r.reduce(e,n,null)||c(t)}function a(r,n){var e=r.result(n,t);if(e)return o()+e}function o(){return l=l||t.href(i())}function i(){return n.getBaseState()||s()}function s(){throw new Error("No base state set in UrlProvider.")}function c(r){console.warning("URL does not match any known URLs: "+r)}var l,f=this;f.get=u,f.map=n.map}function n(r,t){function n(r,n){var a=r.match(u);if(a){a.shift(),a.unshift(n);var o=t.apply(e,a);return o&&"#"===o.charAt(0)&&(o=o.substring(1)),o}}var e=this,u=new RegExp(r);e.result=n}t.$inject=["_","$state","UrlProvider","mappings"],angular.module("scp.router.url").provider("Url",r)}();
